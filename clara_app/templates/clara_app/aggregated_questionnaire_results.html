{% extends 'clara_app/base.html' %}

{% load clara_tags %}

{% block title %}Aggregated Questionnaire Results{% endblock %}

{% block content %}
<h2>Aggregated Questionnaire Results</h2>

<h3>Average Ratings</h3>
<p>Number of Responses: {{ ratings.count }}</p>
<ul>
    <li>Grammar correctness: {{ ratings.grammar_correctness_avg|floatformat:2 }}</li>
    <li>Vocabulary appropriateness: {{ ratings.vocabulary_appropriateness_avg|floatformat:2 }}</li>
    <li>Style appropriateness: {{ ratings.style_appropriateness_avg|floatformat:2 }}</li>
    <li>Content appropriateness: {{ ratings.content_appropriateness_avg|floatformat:2 }}</li>
    <li>Cultural elements inclusion: {{ ratings.cultural_elements_avg|floatformat:2 }}</li>
    <li>Text engagement: {{ ratings.text_engagement_avg|floatformat:2 }}</li>
    <li>Image-content match: {{ ratings.image_match_avg|floatformat:2 }}</li>
</ul>

<h3>Properties of the Text</h3>
<ul>
    <li>Type of text:
		<ul>
			{% for type in text_type_distribution %}
				<li>{{ type.text_type|text_type_display }}: {{ type.total }} response(s)</li>
			{% empty %}
				<li>No data available.</li>
			{% endfor %}
		</ul>
    </li>
	<li>Sharing the text:
		<ul>
			{% for entry in shared_intent_distribution %}
				<li>{{ entry.shared_intent|share_choice_display }}: {{ entry.total }} response(s)</li>
			{% empty %}
				<li>No data available.</li>
			{% endfor %}
		</ul>
    </li>
</ul>

<h3>Time Spent on Corrections and Editing</h3>
<ul>
    <li>Time spent correcting the text:
        <ul>
            {% for entry in correction_time_text_distribution %}
                <li>{{ entry.correction_time_text|time_spent_display }}: {{ entry.total }} response(s)</li>
            {% empty %}
                <li>No data available.</li>
            {% endfor %}
        </ul>
    </li>
    <li>Time spent correcting annotations:
        <ul>
            {% for entry in correction_time_annotations_distribution %}
                <li>{{ entry.correction_time_annotations|time_spent_display }}: {{ entry.total }} response(s)</li>
            {% empty %}
                <li>No data available.</li>
            {% endfor %}
        </ul>
    </li>
    <li>Time spent on image editing:
        <ul>
            {% for entry in image_editing_time_distribution %}
                <li>{{ entry.image_editing_time|time_spent_display }}: {{ entry.total }} response(s)</li>
            {% empty %}
                <li>No data available.</li>
            {% endfor %}
        </ul>
    </li>
</ul>
	
<h3>Improvements and Suggestions</h3>
<ul>
	<li>Purpose when creating the text: 
        <ul>
            {% for purpose in purpose_texts %}
                <li>{{ purpose }}</li>
            {% empty %}
                <li>No data provided yet.</li>
            {% endfor %}
        </ul>
    </li>
    <li>Functionality suggestions: 
        <ul>
            {% for suggestion in functionality_suggestions %}
                <li>{{ suggestion }}</li>
            {% empty %}
                <li>No suggestions provided yet.</li>
            {% endfor %}
        </ul>
    </li>
    <li>UI design improvement suggestions: 
        <ul>
            {% for feedback in ui_improvement_suggestions %}
                <li>{{ feedback }}</li>
            {% empty %}
                <li>No feedback provided yet.</li>
            {% endfor %}
        </ul>
    </li>
</ul>

{% endblock %}

